{"ast":null,"code":"import _toConsumableArray from\"/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import\"./drop-file-input.css\";import{ImageConfig}from\"../config/ImageConfig.js\";import{Icon}from'@iconify/react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DropFileInput=function DropFileInput(props){var wrapperRef=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fileList=_useState2[0],setFileList=_useState2[1];var onDragEnter=function onDragEnter(){return wrapperRef.current.classList.add(\"dragover\");};var onDragLeave=function onDragLeave(){return wrapperRef.current.classList.remove(\"dragover\");};var onDrop=function onDrop(){return wrapperRef.current.classList.remove(\"dragover\");};// Add the new file into the list\nvar onFileDrop=function onFileDrop(e){var newFile=e.target.files[0];if(newFile){var updatedList=[].concat(_toConsumableArray(fileList),[newFile]);setFileList(updatedList);props.onFileChange(updatedList);}console.log(fileList);};// Remove the file from the list\nvar fileRemove=function fileRemove(file){var updatedList=_toConsumableArray(fileList);updatedList.splice(fileList.indexOf(file),1);setFileList(updatedList);props.onFileChange(updatedList);console.log(fileList);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{ref:wrapperRef,className:\"drop-file-input\",onDragEnter:onDragEnter,onDragLeave:onDragLeave,onDrop:onDrop,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-input__label\",children:[/*#__PURE__*/_jsx(Icon,{icon:\"bx:image\",color:\"#c5c5c5\",width:\"3em\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drop your images here, or\"}),/*#__PURE__*/_jsx(\"p\",{children:\"click to browse.\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:\"\",onChange:onFileDrop})]}),fileList.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"drop-file-preview__title\",children:\"Ready to upload\"}),fileList.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:ImageConfig[item.type.split(\"/\")[1]]||ImageConfig[\"default\"],alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"drop-file-preview__item__info\",children:[/*#__PURE__*/_jsx(\"p\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[item.size,\"B\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"drop-file-preview__item__del\",onClick:function onClick(){return fileRemove(item);},children:\"x\"})]},index);})]}):null]});};export default DropFileInput;","map":{"version":3,"names":["React","useRef","useState","ImageConfig","Icon","DropFileInput","props","wrapperRef","fileList","setFileList","onDragEnter","current","classList","add","onDragLeave","remove","onDrop","onFileDrop","e","newFile","target","files","updatedList","onFileChange","console","log","fileRemove","file","splice","indexOf","length","map","item","index","type","split","name","size"],"sources":["/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/src/pages/Record/dropFiles/drop-file-input/DropFileInput.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./drop-file-input.css\";\nimport { ImageConfig } from \"../config/ImageConfig.js\";\nimport { Icon } from '@iconify/react';\n\nconst DropFileInput = (props) => {\n  const wrapperRef = useRef(null);\n\n  const [fileList, setFileList] = useState([]);\n\n  const onDragEnter = () => wrapperRef.current.classList.add(\"dragover\");\n\n  const onDragLeave = () => wrapperRef.current.classList.remove(\"dragover\");\n\n  const onDrop = () => wrapperRef.current.classList.remove(\"dragover\");\n\n  // Add the new file into the list\n  const onFileDrop = (e) => {\n    const newFile = e.target.files[0];\n    if (newFile) {\n      const updatedList = [...fileList, newFile];\n      setFileList(updatedList);\n      props.onFileChange(updatedList);\n    }\n    console.log(fileList);\n  };\n\n  // Remove the file from the list\n  const fileRemove = (file) => {\n    const updatedList = [...fileList];\n    updatedList.splice(fileList.indexOf(file), 1);\n    setFileList(updatedList);\n    props.onFileChange(updatedList);\n    console.log(fileList);\n  };\n\n  return (\n    <>\n      <div\n        ref={wrapperRef}\n        className=\"drop-file-input\"\n        onDragEnter={onDragEnter}\n        onDragLeave={onDragLeave}\n        onDrop={onDrop}\n      >\n        <div className=\"drop-file-input__label\">\n          <Icon icon=\"bx:image\" color=\"#c5c5c5\" width=\"3em\"/>\n          <p>Drop your images here, or</p>\n          <p>click to browse.</p>\n        </div>\n\n        {/* option to add file into the list */}\n        <input type=\"file\" value=\"\" onChange={onFileDrop} />\n      </div>\n\n      {/* Render the list of files if more than 0 files is added  */}\n      {fileList.length > 0 ? (\n        <div className=\"drop-file-preview\">\n          <p className=\"drop-file-preview__title\">Ready to upload</p>\n          {fileList.map((item, index) => (\n            <div key={index} className=\"drop-file-preview__item\">\n              <img\n                src={\n                  ImageConfig[item.type.split(\"/\")[1]] || ImageConfig[\"default\"]\n                }\n                alt=\"\"\n              />\n              <div className=\"drop-file-preview__item__info\">\n                <p>{item.name}</p>\n                <p>{item.size}B</p>\n              </div>\n\n              {/* If the client press X, the item will be removed */}\n              <span\n                className=\"drop-file-preview__item__del\"\n                onClick={() => fileRemove(item)}\n              >\n                x\n              </span>\n            </div>\n          ))}\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nDropFileInput.propTypes = {\n  onFileChange: PropTypes.func,\n};\n\nexport default DropFileInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}