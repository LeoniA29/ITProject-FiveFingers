{"ast":null,"code":"import _regeneratorRuntime from\"/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Import React and Hooks\nimport React,{useState,useEffect}from\"react\";import{Link,useNavigate,useParams}from\"react-router-dom\";// Lightbox Import\nimport FsLightbox from\"fslightbox-react\";import axios from\"axios\";import Cookies from\"universal-cookie\";import\"./FullView.css\";// Import Authentication and Cookies\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var cookies=new Cookies();var token=cookies.get(\"TOKEN\");function FullView(){// if toggler is updated when lightbox is closed it will open it\n// if toggler is updated when lightbox is opened it will close it\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggler=_useState2[0],setToggler=_useState2[1];// id constant to send request based on the specific artefact id\nvar _useParams=useParams(),_id=_useParams._id;var navigate=useNavigate();// State to update the recordData of the artefact\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),recordData=_useState4[0],setRecordData=_useState4[1];var ArtefactID=null;ArtefactID=JSON.stringify({_id:_id}._id);console.log(ArtefactID);var configuration={method:\"get\",url:\"http://localhost:5100/\".concat(_id),headers:{Authorization:\"Bearer \".concat(token)// authorized route with jwt token\n}};console.log(\"URL =\"+configuration.url);// Get Function to retirev the artefact data\nfunction getRecord(){return _getRecord.apply(this,arguments);}function _getRecord(){_getRecord=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(configuration);case 2:response=_context.sent;if(response){_context.next=6;break;}_context.next=7;break;case 6:return _context.abrupt(\"return\",response);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getRecord.apply(this,arguments);}useEffect(function(){getRecord().then(function(response){setRecordData(response.data);}).catch(function(e){console.log(e.message);});},[]);// Store the artefact data in a list of variable\nvar recordName,recordImg,recordDescription,recordMemories,recordLocation,recordPerson,recordCategory=null;if(recordData){recordName=recordData.artefactName;recordImg=recordData.artefactImg.imgURL;recordDescription=recordData.description;recordMemories=recordData.memories;recordLocation=recordData.location;recordPerson=recordData.associated;recordCategory=recordData.category;}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"body\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-fv\",children:\"Full View\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"img-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"cropped-ofp\",src:recordImg,alt:recordName,onClick:function onClick(){return setToggler(!toggler);}}),/*#__PURE__*/_jsx(\"p\",{className:\"artefact-name\",children:recordName}),/*#__PURE__*/_jsx(\"p\",{className:\"artefact-tags\",children:\"TestTag\"}),/*#__PURE__*/_jsx(FsLightbox,{toggler:toggler,sources:[recordImg]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:recordDescription}),/*#__PURE__*/_jsx(\"div\",{children:recordCategory})]})]})});}export default FullView;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useParams","FsLightbox","axios","Cookies","cookies","token","get","FullView","toggler","setToggler","_id","navigate","recordData","setRecordData","ArtefactID","JSON","stringify","console","log","configuration","method","url","headers","Authorization","getRecord","response","then","data","catch","e","message","recordName","recordImg","recordDescription","recordMemories","recordLocation","recordPerson","recordCategory","artefactName","artefactImg","imgURL","description","memories","location","associated","category"],"sources":["/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/src/pages/FullView/FullView.js"],"sourcesContent":["// Import React and Hooks\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\n\n// Lightbox Import\nimport FsLightbox from \"fslightbox-react\";\n\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport \"./FullView.css\";\n\n// Import Authentication and Cookies\nconst cookies = new Cookies();\nconst token = cookies.get(\"TOKEN\");\n\n\n\nfunction FullView() {\n\n  // if toggler is updated when lightbox is closed it will open it\n  // if toggler is updated when lightbox is opened it will close it\n  const [toggler, setToggler] = useState(false);\n\n  // id constant to send request based on the specific artefact id\n  const { _id } = useParams();\n\n  const navigate = useNavigate();\n\n  // State to update the recordData of the artefact\n  const [recordData, setRecordData] = useState(null);\n\n\n  let ArtefactID = null;\n  ArtefactID = JSON.stringify({_id}._id);\n  console.log(ArtefactID)\n  const configuration = {\n    method: \"get\",\n    url: `http://localhost:5100/${_id}`,\n    headers: {\n      Authorization: `Bearer ${token}`, // authorized route with jwt token\n    },\n  };\n\n  console.log(\"URL =\"+configuration.url);\n\n  // Get Function to retirev the artefact data\n  async function getRecord() {\n    const response = await axios(configuration);\n    \n    //console.log(recordData);\n    if (!response) {\n    } else {\n      return response;\n    }\n  }\n\n  useEffect(function() {\n    getRecord()\n      .then((response) => {\n        setRecordData(response.data);\n      })\n      .catch((e) => {\n        console.log(e.message);\n      });\n  },[]);\n\n  // Store the artefact data in a list of variable\n  let recordName,\n    recordImg,\n    recordDescription,\n    recordMemories,\n    recordLocation,\n    recordPerson,\n    recordCategory = null;\n\n  if (recordData) {\n    recordName = recordData.artefactName;\n    recordImg = recordData.artefactImg.imgURL;\n    recordDescription = recordData.description;\n    recordMemories = recordData.memories;\n    recordLocation = recordData.location;\n    recordPerson = recordData.associated;\n    recordCategory = recordData.category;\n  }\n\n  return (\n    <>\n      <body>\n        <div className = \"header-fv\">Full View</div>\n        <div className=\"img-container\">\n          <img className=\"cropped-ofp\" src={recordImg} alt={recordName}  onClick={() => setToggler(!toggler)}/>\n          <p className=\"artefact-name\">{recordName}</p>\n          <p className=\"artefact-tags\">TestTag</p>\n          <FsLightbox toggler={toggler} sources={[recordImg]} />\n        </div>\n\n        <div>\n            <div>\n                {recordDescription}\n            </div>\n            <div>\n                {recordCategory}\n            </div>\n        </div>\n      </body>\n    </>\n  );\n}\n\nexport default FullView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}