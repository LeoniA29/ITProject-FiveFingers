{"ast":null,"code":"import _regeneratorRuntime from\"/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useCallback}from\"react\";// Required component\nimport Lightbox from\"react-awesome-lightbox\";// Required stylesheet\nimport\"react-awesome-lightbox/build/style.css\";import\"./PictureMode.css\";import Nayeon from\"../assets/Nayeon.JPG\";import axios from\"axios\";import Cookies from\"universal-cookie\";import{Link}from\"react-router-dom\";// obtain token from cookie\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cookies=new Cookies();var token=cookies.get(\"TOKEN\");var PictureMode=function PictureMode(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];function handleDashboard(){return _handleDashboard.apply(this,arguments);}function _handleDashboard(){_handleDashboard=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var configuration,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:configuration={method:\"get\",url:\"http://localhost:5100/dashboard\",headers:{Authorization:\"Bearer \".concat(token)// authorized route with jwt token\n}};// make the API call\n_context.next=3;return axios(configuration);case 3:response=_context.sent;console.log(response);if(response){_context.next=8;break;}_context.next=9;break;case 8:return _context.abrupt(\"return\",response);case 9:case\"end\":return _context.stop();}}},_callee);}));return _handleDashboard.apply(this,arguments);}useEffect(function(){handleDashboard().then(function(res){setUserData(res.data.user);}).catch(function(e){console.log(e.message);});},[]);var pictures=null;if(userData){pictures=userData.artefactList.map(function(_ref){var artefactName=_ref.artefactName,artefactImg=_ref.artefactImg,_id=_ref._id;return/*#__PURE__*/_jsx(Link,{to:\"/\".concat(_id),className:\"link-line\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:artefactImg.imgURL}),/*#__PURE__*/_jsx(\"div\",{className:\"card-title\",children:/*#__PURE__*/_jsx(\"p\",{children:artefactName})})]})});});}return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-title\",children:/*#__PURE__*/_jsx(\"div\",{className:\"main-greeting\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"My Artefacts\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-cards\",children:pictures})]})});};export default PictureMode;/*\n    \nconst Artefact = (props) => (\n    <tr>\n      <td>{props.artefact.artefact_name}</td>\n      <td>\n        <Link className=\"btn btn-link\" to={`/edit/${props.artefact._id}`}>Edit</Link> |\n        <button className=\"btn btn-link\"\n          onClick={() => {\n            //props.deleteRecord(props.artefact._id);\n          }}\n        >\n          Delete\n        </button>\n      </td>\n    </tr>\n    const artefactSchema = new mongoose.Schema({\n        artefact_name: {type: String},\n        artefact_description: {type: String},\n        artefact_location: {type: String},\n        artefact_date_created: {type: Date, default: new Date()},\n        artefact_date_origin: {type: Date},\n        artefact_images: [imageSchema],\n        artefact_tags: [tagSchema]\n     });\n    \n)\n*/","map":{"version":3,"names":["React","useEffect","useState","useCallback","Lightbox","Nayeon","axios","Cookies","Link","cookies","token","get","PictureMode","userData","setUserData","handleDashboard","configuration","method","url","headers","Authorization","response","console","log","then","res","data","user","catch","e","message","pictures","artefactList","map","artefactName","artefactImg","_id","imgURL"],"sources":["/Users/leoniangela/Downloads/Uni Year 3/Year 3 Sem 2/IT Project/ITProject/client/src/pages/Dashboard/PictureMode.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\n// Required component\nimport Lightbox from \"react-awesome-lightbox\";\n// Required stylesheet\nimport \"react-awesome-lightbox/build/style.css\";\nimport \"./PictureMode.css\";\nimport Nayeon from \"../assets/Nayeon.JPG\";\n\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\n\nimport { Link } from \"react-router-dom\";\n// obtain token from cookie\nconst cookies = new Cookies();\nconst token = cookies.get(\"TOKEN\");\n\nconst PictureMode = () => {\n  const [userData, setUserData] = useState(null);\n  async function handleDashboard() {\n    const configuration = {\n      method: \"get\",\n      url: \"http://localhost:5100/dashboard\",\n      headers: {\n        Authorization: `Bearer ${token}`, // authorized route with jwt token\n      },\n    };\n\n    // make the API call\n    const response = await axios(configuration);\n    console.log(response);\n    if (!response) {\n    } else {\n      return response;\n    }\n  }\n\n  useEffect(() => {\n    handleDashboard()\n      .then((res) => {\n        setUserData(res.data.user);\n      })\n      .catch((e) => {\n        console.log(e.message);\n      });\n  }, []);\n\n  let pictures = null;\n  if (userData) {\n    pictures = userData.artefactList.map(\n      ({ artefactName, artefactImg, _id }) => (\n        <Link to={`/${_id}`} className=\"link-line\">\n          <div className=\"card\">\n            <img src={artefactImg.imgURL} />\n            <div className=\"card-title\">\n              <p>{artefactName}</p>\n            </div>\n          </div>\n        </Link>\n      )\n    );\n  }\n\n  return (\n    <main>\n      <div className=\"main-container\">\n        <div className=\"main-title\">\n          <div className=\"main-greeting\">\n            <h1>My Artefacts</h1>\n          </div>\n        </div>\n\n        <div className=\"main-cards\">{pictures}</div>\n      </div>\n    </main>\n  );\n};\n\nexport default PictureMode;\n\n/*\n    \nconst Artefact = (props) => (\n    <tr>\n      <td>{props.artefact.artefact_name}</td>\n      <td>\n        <Link className=\"btn btn-link\" to={`/edit/${props.artefact._id}`}>Edit</Link> |\n        <button className=\"btn btn-link\"\n          onClick={() => {\n            //props.deleteRecord(props.artefact._id);\n          }}\n        >\n          Delete\n        </button>\n      </td>\n    </tr>\n    const artefactSchema = new mongoose.Schema({\n        artefact_name: {type: String},\n        artefact_description: {type: String},\n        artefact_location: {type: String},\n        artefact_date_created: {type: Date, default: new Date()},\n        artefact_date_origin: {type: Date},\n        artefact_images: [imageSchema],\n        artefact_tags: [tagSchema]\n     });\n    \n)\n*/\n"],"mappings":"kgBAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,WAArC,KAAwD,OAAxD,CACA;AACA,MAAOC,SAAP,KAAqB,wBAArB,CACA;AACA,MAAO,wCAAP,CACA,MAAO,mBAAP,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CAEA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,QAAP,KAAoB,kBAApB,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA;wFACA,GAAMC,QAAO,CAAG,GAAIF,QAAJ,EAAhB,CACA,GAAMG,MAAK,CAAGD,OAAO,CAACE,GAAR,CAAY,OAAZ,CAAd,CAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,cAAgCV,QAAQ,CAAC,IAAD,CAAxC,wCAAOW,QAAP,eAAiBC,WAAjB,eADwB,QAETC,gBAFS,yJAExB,gKACQC,aADR,CACwB,CACpBC,MAAM,CAAE,KADY,CAEpBC,GAAG,CAAE,iCAFe,CAGpBC,OAAO,CAAE,CACPC,aAAa,kBAAYV,KAAZ,CAAqB;AAD3B,CAHW,CADxB,CASE;AATF,sBAUyBJ,MAAK,CAACU,aAAD,CAV9B,QAUQK,QAVR,eAWEC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAXF,GAYOA,QAZP,sFAcWA,QAdX,wDAFwB,kDAoBxBpB,SAAS,CAAC,UAAM,CACdc,eAAe,GACZS,IADH,CACQ,SAACC,GAAD,CAAS,CACbX,WAAW,CAACW,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAX,CACD,CAHH,EAIGC,KAJH,CAIS,SAACC,CAAD,CAAO,CACZP,OAAO,CAACC,GAAR,CAAYM,CAAC,CAACC,OAAd,EACD,CANH,EAOD,CARQ,CAQN,EARM,CAAT,CAUA,GAAIC,SAAQ,CAAG,IAAf,CACA,GAAIlB,QAAJ,CAAc,CACZkB,QAAQ,CAAGlB,QAAQ,CAACmB,YAAT,CAAsBC,GAAtB,CACT,kBAAGC,aAAH,MAAGA,YAAH,CAAiBC,WAAjB,MAAiBA,WAAjB,CAA8BC,GAA9B,MAA8BA,GAA9B,oBACE,KAAC,IAAD,EAAM,EAAE,YAAMA,GAAN,CAAR,CAAqB,SAAS,CAAC,WAA/B,uBACE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,GAAG,CAAED,WAAW,CAACE,MAAtB,EADF,cAEE,YAAK,SAAS,CAAC,YAAf,uBACE,mBAAIH,YAAJ,EADF,EAFF,GADF,EADF,EADS,CAAX,CAYD,CAED,mBACE,mCACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,YAAf,uBACE,YAAK,SAAS,CAAC,eAAf,uBACE,oCADF,EADF,EADF,cAOE,YAAK,SAAS,CAAC,YAAf,UAA6BH,QAA7B,EAPF,GADF,EADF,CAaD,CA3DD,CA6DA,cAAenB,YAAf,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}